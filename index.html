<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Palak Rawat | Portfolio</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0D1117;
  --accent:#FF9F00;
  --glass:rgba(255,255,255,0.05);
  --border:rgba(255,159,0,0.25);
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
  background:var(--bg);
  font-family:'Inter',sans-serif;
  color:#fff;
  scroll-behavior:smooth;
}

h1,h2,h3{
  font-family:'Playfair Display',serif;
}

section{
  padding:80px 8%;
}

/* HERO */
.hero{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  background:linear-gradient(-45deg,#0D1117,#141c2b,#0D1117,#1a2235);
  background-size:400% 400%;
  animation:gradientMove 12s ease infinite;
}

@keyframes gradientMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.hero h1{
  font-size:3rem;
}

.typing{
  margin-top:10px;
  font-size:1.3rem;
  color:var(--accent);
  border-right:2px solid var(--accent);
  white-space:nowrap;
  overflow:hidden;
}

/* GLASS */
.glass{
  background:var(--glass);
  backdrop-filter:blur(14px);
  border:1px solid var(--border);
  border-radius:24px;
  padding:25px;
  transition:.4s;
}

.glass:hover{
  transform:translateY(-8px);
  box-shadow:0 15px 40px rgba(255,159,0,0.15);
}

/* VIDEO */
.video-container iframe,
.video-container video{
  width:100%;
  height:400px;
  border-radius:20px;
}

@media(max-width:768px){
  .video-container iframe,
  .video-container video{
    height:250px;
  }
}

/* DAILY */
.bento{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:30px;
}
.card{min-height:160px; outline:none;}
.card:empty:before{
  content:"Write what you learned today...";
  color:rgba(255,255,255,0.4);
}
.add-card{
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:2rem;
  color:var(--accent);
  cursor:pointer;
  border:2px dashed var(--border);
}

/* GALLERY */
.gallery-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:25px;
}
.gallery-item img{
  width:100%;
  height:220px;
  object-fit:cover;
  border-radius:20px;
}

/* ASSIGNMENTS */
.assignments-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:25px;
}
.assignment-card h3{
  color:var(--accent);
}

/* BUTTON */
.btn{
  margin-top:15px;
  background:var(--accent);
  border:none;
  padding:10px 20px;
  border-radius:12px;
  cursor:pointer;
}
.btn:hover{opacity:.8;}

input, textarea{
  width:100%;
  padding:10px;
  margin:8px 0;
  background:rgba(255,255,255,0.05);
  border:1px solid var(--border);
  border-radius:12px;
  color:#fff;
}
</style>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <h1>Palak Rawat</h1>
  <div class="typing" id="typing"></div>
</section>

<!-- INTRO VIDEO -->
<section>
  <h2>Introduction Video</h2><br>
  <div class="glass video-container">
    <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID" allowfullscreen></iframe>
  </div>
</section>

<!-- SUMMARY -->
<section>
  <h2>About Me</h2><br>
  <div class="glass">
    <p>
      Hello, Iâ€™m <strong>Palak Rawat</strong>, a B.Tech CSE student at Graphic Era Hill University, Dehradun. 
      I am passionate about Cybersecurity, DSA, and building practical software systems.
    </p>
    <br>
    <p>
      I focus on strengthening my programming foundation and solving real-world problems 
      through projects, academic research, and continuous learning.
    </p>
  </div>
</section>

<!-- DAILY -->
<section>
  <h2>Daily Learning</h2><br>
  <div class="bento" id="learningGrid">
    <div class="glass card add-card" id="addBtn">+</div>
  </div>
</section>

<!-- GALLERY -->
<section>
  <h2>Gallery</h2><br>
  <input type="file" id="imageUpload" class="btn" accept="image/*">
  <div class="gallery-grid" id="galleryGrid"></div>
</section>

<!-- ASSIGNMENTS -->
<section>
  <h2>Assignments</h2><br>

  <div class="assignments-grid" id="assignmentsGrid"></div>

  <br>

  <div class="glass" style="max-width:500px;">
    <input type="text" id="assignTitle" placeholder="Assignment Title">
    <input type="text" id="assignSubject" placeholder="Subject">
    <input type="file" id="assignFile" accept=".pdf,.doc,.docx">
    <textarea id="assignDesc" placeholder="Description"></textarea>
    <button class="btn" id="addAssignmentBtn">Add Assignment</button>
  </div>
</section>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot, updateDoc, doc } 
from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCphibZuQPQeoFbR1Y7IuE3AoELtclyb4c",
  authDomain: "eportfolio-34489.firebaseapp.com",
  projectId: "eportfolio-34489",
  storageBucket: "eportfolio-34489.firebasestorage.app",
  messagingSenderId: "1051985668357",
  appId: "1:1051985668357:web:8ea2c8b444acd8c435af6c"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* DAILY */
const learningGrid=document.getElementById("learningGrid");
document.getElementById("addBtn").addEventListener("click", async ()=>{
  await addDoc(collection(db,"dailyLogs"),{content:""});
});

onSnapshot(collection(db,"dailyLogs"),(snapshot)=>{
  learningGrid.innerHTML='<div class="glass card add-card" id="addBtn">+</div>';
  snapshot.forEach(docSnap=>{
    const card=document.createElement("div");
    card.className="glass card";
    card.contentEditable=true;
    card.innerHTML=docSnap.data().content;
    card.addEventListener("input", async ()=>{
      await updateDoc(doc(db,"dailyLogs",docSnap.id),{content:card.innerHTML});
    });
    learningGrid.insertBefore(card,learningGrid.firstChild);
  });
});

/* GALLERY */
const upload=document.getElementById("imageUpload");
const gallery=document.getElementById("galleryGrid");

upload.addEventListener("change",async ()=>{
  const file=upload.files[0];
  if(!file)return;
  const reader=new FileReader();
  reader.onload=async e=>{
    await addDoc(collection(db,"gallery"),{imageBase64:e.target.result});
  };
  reader.readAsDataURL(file);
});

onSnapshot(collection(db,"gallery"),snapshot=>{
  gallery.innerHTML="";
  snapshot.forEach(docSnap=>{
    const div=document.createElement("div");
    div.className="gallery-item glass";
    const img=document.createElement("img");
    img.src=docSnap.data().imageBase64;
    div.appendChild(img);
    gallery.appendChild(div);
  });
});

/* ASSIGNMENTS WITH FILE UPLOAD */
const assignmentsGrid = document.getElementById("assignmentsGrid");
const addAssignmentBtn = document.getElementById("addAssignmentBtn");

addAssignmentBtn.addEventListener("click", async () => {

  const title = document.getElementById("assignTitle").value;
  const subject = document.getElementById("assignSubject").value;
  const desc = document.getElementById("assignDesc").value;
  const file = document.getElementById("assignFile").files[0];

  if (!title) return alert("Title required");
  if (!file) return alert("Please choose a file");

  const reader = new FileReader();

  reader.onload = async function(e){
    await addDoc(collection(db, "assignments"), {
      title,
      subject,
      desc,
      fileName: file.name,
      fileData: e.target.result,
      created: new Date()
    });
  };

  reader.readAsDataURL(file);

  document.getElementById("assignTitle").value="";
  document.getElementById("assignSubject").value="";
  document.getElementById("assignDesc").value="";
  document.getElementById("assignFile").value="";
});

onSnapshot(collection(db,"assignments"), snapshot=>{
  assignmentsGrid.innerHTML="";

  snapshot.forEach(docSnap=>{
    const d = docSnap.data();

    const card = document.createElement("div");
    card.className="glass assignment-card";

    card.innerHTML = `
      <h3>${d.title}</h3>
      <p><strong>${d.subject || ""}</strong></p>
      <p>${d.desc || ""}</p>
      <br>
      <a href="${d.fileData}" download="${d.fileName}" class="btn">
        Download File
      </a>
    `;

    assignmentsGrid.appendChild(card);
  });
});

/* TYPING */
const text="B.Tech CSE Student | GEHU Dehradun";
let i=0;
function type(){
  if(i<text.length){
    document.getElementById("typing").innerHTML+=text.charAt(i);
    i++;
    setTimeout(type,60);
  }
}
type();
</script>

</body>
</html>

